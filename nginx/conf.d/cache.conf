# Nginx cache configuration for prerendered content
# Place at: /etc/nginx/conf.d/cache.conf

# Create cache directory first:
# sudo mkdir -p /var/cache/nginx/prerender
# sudo chown -R www-data:www-data /var/cache/nginx

# Prerender cache zone
proxy_cache_path /var/cache/nginx/prerender
    levels=1:2
    keys_zone=prerender_cache:10m
    max_size=1g
    inactive=1h
    use_temp_path=off;

# Static assets cache zone
proxy_cache_path /var/cache/nginx/static
    levels=1:2
    keys_zone=static_cache:50m
    max_size=5g
    inactive=30d
    use_temp_path=off;
